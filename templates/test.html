<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    /* CSS Neumorphism Styling */
body {
  background-color: #2c447d; /* Light soft grey background */
}

.neu-nav ul {
  list-style-type: none;
  margin: 0;
  padding: 20px;
  display: flex;
  justify-content: center; /* Centers menu items */
  gap: 20px; /* Space between items */
}

.neu-nav a {
  text-decoration: none;
  color: #555;
  padding: 15px 30px;
  /* border-radius: 15px; */
  background: #e0e5ec;
  /* Neumorphic shadow effect */
  /* box-shadow: 6px 6px 12px #b8bcc3,  */
             /* -6px -6px 12px #ffffff; */
  transition: all 1s ease;

  border-radius: 46px;
background: linear-gradient(145deg, #283d71, #2f4986);
box-shadow:  19px 19px 33px #233664,
             -19px -19px 33px #355296;
}

/* Hover/Active Effect */
.neu-nav a:hover {
  /* box-shadow: inset 6px 6px 12px #b8bcc3, 
              inset -6px -6px 12px #ffffff;  */
              border-radius: 46px;
background: #2c447d;
box-shadow: inset 19px 19px 33px #233664,
            inset -19px -19px 33px #355296;
            transition: all 1 ease
}
a{
    font-weight: 600;
}

    </style>
</head>
<body>
    
<nav class="neu-nav">
  <ul>
    <li><a href="#">Home</a></li>
    <li><a href="#">Features</a></li>
    <li><a href="#">About</a></li>
    <li><a href="#">Contact</a></li>
  </ul>
</nav>


</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gesture Control Dashboard</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4/hands.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.3/camera_utils.js" crossorigin="anonymous"></script>
<script src="/static/dashboard.js" defer></script>

<style>

/* =========================
   NEOMORPHIC DARK THEME
========================= */

:root{
  --bg:#0b0f1a;
  --panel:#111827;
  --soft:#1a2236;
  --accent:#7c83ff;
  --accent-glow: rgba(124,131,255,0.35);
  --text:#e6ebff;
  --muted:#9aa3c7;

  --shadow-light: rgba(255,255,255,0.04);
  --shadow-dark: rgba(0,0,0,0.6);
}

/* global */

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: Inter, system-ui, sans-serif;
}

body{
  background: radial-gradient(circle at 20% 10%, #141a2e, #05070f 70%);
  color:var(--text);
  min-height:100vh;
  padding:24px;
  outline: none;
}

/* layout */

.container{
  max-width:1300px;
  margin:auto;
}

header{
  margin-bottom:30px;
  border-left:4px solid var(--accent);
  padding-left:12px;
}

header h1{
  font-size:2.2rem;
  font-weight:800;
}

header p{
  color:var(--muted);
}

/* neo card */

.card{
  background:var(--panel);
  border-radius:18px;
  padding:22px;
  box-shadow:
    10px 10px 25px var(--shadow-dark),
    -6px -6px 18px var(--shadow-light);
}

/* grid */

.section-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:20px;
}

/* system bar */

.system-controls-wrapper{
  display:flex;
  justify-content:center;
  margin-bottom:30px;
}

.system-bar{
  display:flex;
  align-items:center;
  gap:25px;
  padding:14px 26px;
  border-radius:60px;
}

/* buttons */

button{
  border:none;
  padding:10px 18px;
  border-radius:12px;
  cursor:pointer;
  font-weight:600;
  color:white;
  background:var(--soft);
  box-shadow:
    4px 4px 12px var(--shadow-dark),
    -2px -2px 8px var(--shadow-light);
  margin-top: 10px;
}

button:hover{
  box-shadow:
    inset 4px 4px 10px var(--shadow-dark),
    inset -2px -2px 8px var(--shadow-light);
}

.btn-primary{
  background:var(--accent);
  box-shadow:0 0 12px var(--accent-glow);
}

.btn-success{ background:#10b981; }
.btn-warning{ background:#f59e0b; }

/* inputs */

input, select{
  width:100%;
  padding:10px 14px;
  border:none;
  border-radius:10px;
  background:var(--soft);
  color:var(--text);
  box-shadow:
    inset 4px 4px 8px var(--shadow-dark),
    inset -3px -3px 6px var(--shadow-light);
}

/* video */

#video-container{
  margin-top:14px;
  border-radius:14px;
  overflow:hidden;
  background:black;
  box-shadow:
    inset 0 0 25px rgba(0,0,0,0.7),
    0 0 20px rgba(0,0,0,0.4);
}

video, canvas{
  width:100%;
  height:150px;
  object-fit:cover;
}

/* gesture display */

.current-gesture{
  padding:8px 16px;
  border-radius:30px;
  background:var(--soft);
  font-weight:700;
  box-shadow:
    inset 4px 4px 10px var(--shadow-dark),
    inset -3px -3px 6px var(--shadow-light);
}

/* mappings */

.mappings-list{
  margin-top:12px;
  max-height:140px;
  overflow:auto;
}

.mappings-list li{
  display:flex;
  justify-content:space-between;
  padding:6px 0;
  border-bottom:1px solid rgba(255,255,255,0.06);
  font-size:0.85rem;
  color:var(--muted);
}

/* text */

h2{
  color:var(--accent);
  margin-bottom:14px;
  font-size:1.2rem;
}

label{
  font-size:0.8rem;
  color:var(--muted);
  margin-bottom:4px;
  display:block;
}

/* responsive */

@media(max-width:1024px){
  .section-grid{ grid-template-columns:1fr 1fr; }
}

@media(max-width:768px){
  .section-grid{ grid-template-columns:1fr; }
}
system-controls-wrapper{
  margin-top: 0px;
}

.headtop{
  margin: auto;
}
</style>
</head>

<body>

<div class="container">

<header>
<h1>Gesture Control</h1>
<p>Smart Desktop Interface</p>
</header>

<div class="system-controls-wrapper">
<div class="card system-bar">
<h2 class="headtop"><i class="fas fa-microchip"></i> Engine</h2>
<button class="btn-primary" onclick="startSystem()"><i class="fas fa-play"></i> Start</button>
<button class="btn-warning" onclick="stopSystem()"><i class="fas fa-stop"></i> Stop</button>
<div id="current-gesture" class="current-gesture">—</div>
</div>
</div>

<div class="section-grid">

<div class="card">
<h2><i class="fas fa-video"></i> Training Lab</h2>

<label>Gesture Label</label>
<input id="gesture-name" placeholder="Swipe Left">

<label>Data Density</label>
<select id="sample-count">
<option>50</option>
<option selected>100</option>
<option>200</option>
</select>

<button class="btn-success" onclick="startRecording()">
<i class="fas fa-camera"></i> Initialize Camera
</button>

<div id="video-container">
<video id="video" autoplay playsinline></video>
<canvas id="canvas"></canvas>
</div>

<div id="progress">Capture: 0%</div>
</div>

<div class="card">
<h2><i class="fas fa-project-diagram"></i> Command Map</h2>

<label>Recognized Gesture</label>
<select id="gesture-select"></select>

<label>System Action</label>
<select id="action-select">
<option>screenshot</option>
<option>volume_up</option>
<option>volume_down</option>
<option>play_pause</option>
<option>next_window</option>
<option>lock_screen</option>
</select>

<button class="btn-primary" onclick="updateAction()" >Bind Action</button>

<div id="current-mappings" class="mappings-list">
<strong>Active Mappings:</strong>
<ul></ul>
</div>
</div>

<div class="card">
<h2><i class="fas fa-brain"></i> Neural Logic</h2>

<p style="color:var(--muted); font-size:0.85rem; margin-top: 5px;">
Sync the local neural network with new gesture samples.
</p>

<button class="btn-success" onclick="retrainModel()" style="margin-top: 10px;">
<i class="fas fa-sync"></i> Deploy Model
</button>

<h2 style="margin-top:24px;"><i class="fas fa-sliders-h"></i> Sensitivity</h2>

<label>Confidence Threshold (%)</label>
<input id="confidence-threshold" type="number" value="60">

<button class="btn-primary" onclick="updateThreshold()">Apply</button>

</div>

</div>

</div>

</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesture Control Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4/hands.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.3/camera_utils.js" crossorigin="anonymous"></script>
    <script src="/static/dashboard.js" defer></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg: #f8fafc;
            --card-bg: white;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
        }
        [data-theme="dark"] {
            --bg: #0f172a;
            --card-bg: #1e293b;
            --text: #f1f5f9;
            --text-muted: #94a3b8;
            --border: #334155;
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding: 2rem 1rem;
            line-height: 1.6;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 2.5rem; }
        h1 { color: var(--primary); font-size: 2.5rem; margin-bottom: 0.5rem; }
        .theme-toggle {
            position: absolute;
            top: 1.5rem; right: 2rem;
            background: none; border: none;
            font-size: 1.5rem; cursor: pointer;
        }
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            padding: 1.75rem;
            margin-bottom: 1.75rem;
            border: 1px solid var(--border);
        }
        h2 { color: var(--primary); margin-bottom: 1.25rem; font-size: 1.5rem; }
        .section-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }
        .form-group { margin-bottom: 1.25rem; }
        label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-muted); }
        input[type="text"], input[type="number"], select {
            width: 100%; padding: 0.75rem 1rem;
            border: 1px solid var(--border); border-radius: 6px;
            font-size: 1rem; background: var(--bg); color: var(--text);
        }
        input:focus, select:focus {
            outline: none; border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99,102,241,0.2);
        }
        button {
            padding: 0.75rem 1.5rem; border: none; border-radius: 6px;
            font-weight: 600; cursor: pointer; transition: all 0.2s;
        }
        .btn-danger {
    background: var(--danger);
    color: white;
}
.btn-danger:hover {
    background: #dc3545;
    transform: translateY(-1px);
}
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: var(--primary-dark); transform: translateY(-1px); }
        .btn-success { background: var(--success); color: white; }
        .btn-warning { background: var(--warning); color: white; }
        .status { margin-top: 1rem; padding: 1rem; border-radius: 8px; font-weight: 500; }
        .status.success { background: rgba(16,185,129,0.1); color: var(--success); }
        #video-container { margin-top: 1rem; border-radius: 8px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.15); background: black; }
        #video, #canvas { width: 100%; max-width: 640px; display: block; border-radius: 8px; }
        #progress { margin-top: 0.75rem; font-weight: bold; color: var(--primary); }
        .current-gesture { font-size: 1.4rem; font-weight: 600; margin: 1rem 0; color: var(--primary); }
        .mappings-list { margin-top: 1.5rem; padding: 1rem; background: rgba(99,102,241,0.05); border-radius: 8px; }
        .mappings-list ul { list-style: none; }
        .mappings-list li { padding: 0.5rem 0; border-bottom: 1px solid var(--border); }
        .mappings-list li:last-child { border-bottom: none; }
        footer { text-align: center; margin-top: 3rem; color: var(--text-muted); font-size: 0.9rem; }
        @media (max-width: 768px) {
            body { padding: 1rem; }
            h1 { font-size: 2rem; }
            .section-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body data-theme="light">
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle dark/light mode">
        <i class="fas fa-moon"></i>
    </button>

    <div class="container">
        <header>
            <h1>Gesture Control Dashboard</h1>
            <p>Control your desktop with hand gestures — train, map & monitor in real time</p>
        </header>

        <div class="card">
            <h2>System Controls</h2>
            <div style="display:flex; gap:1rem; flex-wrap:wrap;">
                <button class="btn-primary" onclick="startSystem()">
                    <i class="fas fa-play"></i> Start System
                </button>
                <button class="btn-warning" onclick="stopSystem()">
                    <i class="fas fa-stop"></i> Stop System
                </button>
            </div>
            <div id="current-gesture" class="current-gesture">
                Current Gesture: — (— %)
            </div>
        </div>
        <!-- TBD -->
<div class="card">
    <h2>Live Gesture Preview (Landmarks Only)</h2>
    <div style="margin-bottom: 1rem; display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
        <button id="toggle-live-preview" class="btn-primary">
            <i class="fas fa-eye"></i> Show Preview
        </button>
        <span id="preview-status" style="font-weight: 500; color: var(--text-muted);">
            Preview hidden
        </span>
    </div>

    <div id="live-preview-wrapper" style="display: none; border-radius: 10px; overflow: hidden; box-shadow: 0 6px 15px rgba(0,0,0,0.25); background: #000; max-width: 480px; margin: 0 auto;">
        <canvas id="live-preview-canvas" width="480" height="360" style="width: 100%; height: auto; display: block;"></canvas>
        <div id="preview-info" style="position: absolute; bottom: 8px; left: 8px; color: #00ff88; background: rgba(0,0,0,0.6); padding: 5px 10px; border-radius: 5px; font-size: 0.9rem; font-family: monospace; pointer-events: none;">
            Waiting for hand...
        </div>
    </div>
</div>
        <div class="section-grid">
            <div class="card">
                <h2>Add New Gesture</h2>
                <div class="form-group">
                    <label for="gesture-name">Gesture Name</label>
                    <input id="gesture-name" type="text" placeholder="e.g. thumbs_up">
                </div>
                <div class="form-group">
                    <label for="sample-count">Number of Samples</label>
                    <select id="sample-count">
                        <option value="50">50 samples</option>
                        <option value="100" selected>100 samples</option>
                        <option value="150">150 samples</option>
                        <option value="200">200 samples</option>
                    </select>
                </div>
                <button class="btn-success" onclick="startRecording()">
                    <i class="fas fa-camera"></i> Start Recording
                </button>
                <div id="video-container">
                    <video id="video" autoplay playsinline></video>
                    <canvas id="canvas"></canvas>
                </div>
                <div id="progress">Progress: 0%</div>
            </div>

            <div class="card">
                <h2>Map Gestures to Actions</h2>
                <div class="form-group">
                    <label for="gesture-select">Select Gesture</label>
                    <select id="gesture-select"></select>
                </div>
                <div class="form-group">
                    <label for="action-select">Select Action</label>
                    <select id="action-select">
                        <option value="screenshot">Take Screenshot</option>
                        <option value="volume_up">Volume Up</option>
                        <option value="volume_down">Volume Down</option>
                        <option value="play_pause">Play / Pause Media</option>
                        <option value="next_window">Next Window</option>
                        <option value="previous_window">Previous Window</option>
                        <option value="lock_screen">Lock Screen</option>
                        <option value="mute_volume">Mute Volume</option>
                        <option value="open_explorer">Open Explorer</option>
                        <option value="open_terminal">Open Terminal</option>
                        <option value="open_chrome">Open Chrome</option>
                        <option value="toggle_system">Custom Toggle</option>
                    </select>
                </div>
                <button class="btn-primary" onclick="updateAction()">
                    <i class="fas fa-save"></i> Update Mapping
                </button>
                <div id="current-mappings" class="mappings-list">
                    <strong>Current Mappings:</strong><ul></ul>
                </div>
            </div>
        </div>

        <div class="card">
    <h2>Manage Gestures</h2>
    <div class="form-group">
        <label for="delete-gesture-select">Select Gesture to Delete</label>
        <select id="delete-gesture-select"></select>
    </div>
    <button class="btn-danger" onclick="deleteGesture()">
        <i class="fas fa-trash-alt"></i> Delete Selected Gesture
    </button>
    <p style="margin-top: 0.75rem; font-size: 0.9rem; color: var(--text-muted);">
        Warning: This will permanently remove all samples of this gesture from the dataset.
    </p>
</div>

        <div class="card">
            <h2>Model Training</h2>
            <button class="btn-success" onclick="retrainModel()">
                <i class="fas fa-brain"></i> Retrain Model Now
            </button>
        </div>

        <div class="card">
            <h2>Settings</h2>
            <div class="form-group" style="max-width:300px;">
                <label for="confidence-threshold">Confidence Threshold (%)</label>
                <input id="confidence-threshold" type="number" value="60" min="30" max="95" step="5">
            </div>
            <button class="btn-primary" onclick="updateThreshold()">
                <i class="fas fa-cog"></i> Update Threshold
            </button>
        </div>

        <div id="output" class="status"></div>
    </div>

    <footer>
        Gesture Recognition Backend • Powered by MediaPipe + FastAPI
    </footer>

    <script>
        function toggleTheme() {
            const body = document.body;
            const icon = document.querySelector('.theme-toggle i');
            if (body.getAttribute('data-theme') === 'dark') {
                body.setAttribute('data-theme', 'light');
                icon.className = 'fas fa-moon';
            } else {
                body.setAttribute('data-theme', 'dark');
                icon.className = 'fas fa-sun';
            }
        }
    </script>
</body>
</html>